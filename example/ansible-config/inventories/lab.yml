---
# Example inventory for the containerlab topology in example/clab-topo.yml
all:
  children:
    routers:
      children:
        srl:
          hosts:
            srl1:
              ansible_host: 172.20.0.11
              ansible_network_os: nokia.srlinux.srlinux
              ansible_connection: ansible.netcommon.httpapi
              backup_transport: httpapi
              httpapi_base_url: "https://172.20.0.11"
              httpapi_validate_certs: false
              httpapi_backup_path: "/jsonrpc"
              httpapi_backup_method: "POST"
              httpapi_backup_body_format: "json"
              httpapi_backup_body:
                jsonrpc: "2.0"
                id: 1
                method: "cli"
                params:
                  commands:
                    - "info flat from running"
                  output-format: "text"
              httpapi_headers:
                Content-Type: "application/json"
                Accept: "application/json"
              httpapi_response_format: "json"
              httpapi_response_jmespath: "result[0]"
              httpapi_restore_path: "/jsonrpc"
              httpapi_restore_method: "POST"
              httpapi_restore_body_format: "json"
              httpapi_restore_body:
                jsonrpc: "2.0"
                id: 1
                method: "cli"
                params:
                  commands: "{{ ['enter candidate'] + (desired_config.splitlines() | reject('equalto','') | list) + ['commit now'] }}"
